<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@200&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/blogcontent.css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="graphics3D.css">

    <script src="/js/prism.js"></script>

    <title>Graphics Engine 3D</title>
</head>

<body data-graphics3D-id="graphics3D3">
    <main>
        <div class="container-fluid ps-0">
            <div class="row">
                <div class="col-12 col-lg-2 sidebar pb-0 pe-0">
                    <!--load from sidebar.html-->
                </div>

                <div class="blog-content col-12 col-lg-10">
                    <div id="graphics3D-nav-top"></div>
                    <h1>V·∫Ω m·ªôt h√¨nh l·∫≠p ph∆∞∆°ng</h1>
                    Trong blog n√†y, ch√∫ng ta s·∫Ω c√πng nhau v·∫Ω ƒë∆∞·ª£c m·ªôt h√¨nh l·∫≠p ph∆∞∆°ng (cube) l√™n canvas üò≥.
                    Tr∆∞·ªõc khi v·∫Ω ƒë∆∞·ª£c 1 c·ª•c cube l√™n m√†n h√¨nh, ta c·∫ßn c√≥ th√¥ng tin c·ªßa cube ƒë√≥ tr∆∞·ªõc,
                    l√† t·∫≠p h·ª£p t·∫•t c·∫£ c√°c tam gi√°c t·∫°o n√™n n√≥. Ta ƒë√£ l√†m ƒë∆∞·ª£c m·ªôt ph·∫ßn vi·ªác n√†y ·ªü 
                    <a href="graphics3D2-definitions.html#tamgiac">ph·∫ßn 2 c·ªßa blog tr∆∞·ªõc</a>, nh∆∞ng ta ƒëang m·∫∑c ƒë·ªãnh
                    t√¢m c·ªßa cube ƒë√≥ ·ªü g·ªëc t·ªça ƒë·ªô (0, 0, 0) v√† c√≥ k√≠ch th∆∞·ªõc l√† 1. Ta c·∫ßn t·∫°o m·ªôt h√†m ƒë·ªÉ t·∫°o ra cube ·ªü
                    v·ªã tr√≠ v√† k√≠ch th∆∞·ªõc b·∫•t k·ª≥, h√†m ƒë√≥ s·∫Ω nh∆∞ sau (m√¨nh nghƒ© l√† kh√¥ng c·∫ßn gi·∫£i th√≠ch):
                    <pre style="height: 400px;"><code class="language-javascript">function makeCube(center, size) {
    let halfSize = {x: size.x / 2, y: size.y / 2, z: size.z / 2};
    let tris = [];  //vi·∫øt t·∫Øt c·ªßa triangles
    // FRONT
    tris.push({
        {center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z}});
    tris.push({
        {center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z}});

    // RIGHT
    tris.push({
        {center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z}});

    tris.push({
        {center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z},
        {center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z}});

    // BACK
    tris.push({
        {center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z}});

    tris.push({
        {center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z}});

    // LEFT
    tris.push({
        {center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z}});

    tris.push({
        {center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z},
        {center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z}});

    // TOP
    tris.push({
        {center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z},
        {center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z}});

    tris.push({
        {center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z},
        {center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z}});

    // BOTTOM
    tris.push({
        {center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z}});

    tris.push({
        {center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z},
        {center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z},
        {center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z}});
}</code></pre>
                    Tuy nhi√™n, h√†m n√†y kh√° kh√≥ ƒë·ªçc v√† hi·ªÉu (v√† c≈©ng kh√≥ b·∫£o tr√¨ v·ªÅ sau), v√¨ s·ª≠ d·ª•ng javascript object lung tung m√† kh√¥ng r√µ r√†ng ch√∫ng
                    l√† g√¨. Cho n√™n tr∆∞·ªõc ƒë√≥ ta c·∫ßn ƒë·ªãnh nghƒ©a ki·ªÉu d·ªØ li·ªáu cho ƒëi·ªÉm v√† tam gi√°c, tr∆∞·ªõc ti√™n l√† ƒëi·ªÉm, m√¨nh ƒë·∫∑t 
                    t√™n l√† <i>Vector3</i> cho gi·ªëng Unity, g·ªìm c√°c h√†m c∆° b·∫£n nh∆∞ c·ªông, tr·ª´, nh√¢n, chia, nh√¢n vector,
                    t√≠ch v√¥ h∆∞·ªõng, t√≠ch c√≥ h∆∞·ªõng, t√≠nh ƒë·ªô d√†i v√† chu·∫©n h√≥a v·ªÅ vector ƒë∆°n v·ªã:
                    <pre><code class="language-javascript">class Vector3 {
    constructor(x = 0, y = 0, z = 0) {
        this.x = x;
        this.y = y;
        this.z = z;
    }

    static add(vec1, vec2) {
        return new Vector3(vec1.x + vec2.x, vec1.y + vec2.y, vec1.z + vec2.z);
    }
    static sub(vec1, vec2) {
        return new Vector3(vec1.x - vec2.x, vec1.y - vec2.y, vec1.z - vec2.z);
    }
    static mul(vec, value) {
        return new Vector3(vec.x * value, vec.y * value, vec.z * value);
    }
    static div(vec, value) {
        return new Vector3(vec.x / value, vec.y / value, vec.z / value);
    }
    static scale(vec1, vec2) {
        return new Vector3(vec1.x * vec2.x, vec1.y * vec2.y, vec1.z * vec2.z);
    }
    static dot(v1, v2) {
        return v1.x * v2.x + v1.y * v2.y + v1.z * v2.z;
    }
    static cross(v1, v2) {
        let v = new Vector3(
                v1.y * v2.z - v1.z * v2.y,
                v1.z * v2.x - v1.x * v2.z,
                v1.x * v2.y - v1.y * v2.x);
        return v;
    }
	magnitude(){
		return Math.hypot(this.x, this.y, this.z);
    }
    normalize() {
        let length = this.magnitude();
        if (length === 0)
            return this;
        this.x /= length;
        this.y /= length;
        this.z /= length;
        return this;
    }
}</code></pre>
                    ƒê·ªëi v·ªõi tam gi√°c th√¨ m√¨nh t·∫°o class nh∆∞ b√™n d∆∞·ªõi, ch·ªâ ch·ª©a th√¥ng tin c·ªßa 3 ƒë·ªânh c·ªßa n√≥ (sau n√†y s·∫Ω th√™m c√°c h√†m kh√°c sau):
                    <pre><code class="language-javascript">class Triangle {
    constructor(vertices = []) {
        if (vertices.length == 0) {
            this.vertices = [];
            for (let i = 0; i < 3; i++) {
                this.vertices.push(new Vector3(0, 0, 0));
            }
        } else {
            this.vertices = vertices;
        }
    }
}</code></pre>
                    Sau khi t·∫°o ƒë∆∞·ª£c 2 class tr√™n, ta c√≥ th·ªÉ vi·∫øt l·∫°i h√†m makeCube ·ªü tr√™n nh∆∞ sau:
                    <pre style="height: 400px"><code class="language-javascript">function makeCube(center, size) {
    let halfSize = Vector3.div(size, 2);
    let tris = [];
    // FRONT
    tris.push(new Triangle([
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z)]));
    tris.push(new Triangle([
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z)]));

    // RIGHT
    tris.push(new Triangle([
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z)]));

    tris.push(new Triangle([
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z),
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z)]));

    // BACK
    tris.push(new Triangle([
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z)]));

    tris.push(new Triangle([
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z)]));

    // LEFT
    tris.push(new Triangle([
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z)]));

    tris.push(new Triangle([
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z),
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z)]));

    // TOP
    tris.push(new Triangle([
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z),
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z + halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z)]));

    tris.push(new Triangle([
        new Vector3(center.x - halfSize.x, center.y + halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z + halfSize.z),
        new Vector3(center.x + halfSize.x, center.y + halfSize.y, center.z - halfSize.z)]));

    // BOTTOM
    tris.push(new Triangle([
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z)]));

    tris.push(new Triangle([
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z + halfSize.z),
        new Vector3(center.x - halfSize.x, center.y - halfSize.y, center.z - halfSize.z),
        new Vector3(center.x + halfSize.x, center.y - halfSize.y, center.z - halfSize.z)]));

    return tris;
		}</code></pre>
                    C√≥ ƒë∆∞·ª£c h√†m makeCube r·ªìi, ta s·∫Ω ti·∫øn h√†nh v·∫Ω, quay l·∫°i v·ªõi canvas m√† ƒë√£ ƒë∆∞·ª£c setup ·ªü <a href="graphics3D1-setup.html">ph·∫ßn 1</a>,
                    ta t·∫°o m·ªôt cube ·ªü v·ªã tr√≠ (0, 0, 2) (ch√≠nh gi·ªØa m√†n h√¨nh v√† c√°ch m√†n h√¨nh 2 ƒë∆°n v·ªã) v√† c√≥ k√≠ch th∆∞·ªõc l√† (0.7, 0.7, 0.7):
                    <pre><code class="language-javascript">let cube1 = makeCube(new Vector3(0, 0, 2), new Vector3(0.7, 0.7, 0.7));</code></pre>
                    Sau ƒë√≥ ƒë·ªëi v·ªõi t·ª´ng tam gi√°c c·ªßa cube1, ta s·∫Ω v·∫Ω 3 ƒë∆∞·ªùng n·ªëi 3 ƒë·ªânh c·ªßa n√≥ l·∫°i v·ªõi nhau, s·ª≠ d·ª•ng c√°c h√†m c·ªßa canvas 2D context:
                    <pre><code class="language-javascript">for (let tri of cube1) {
    vertices = tri.vertices;
    ctx.beginPath();
    ctx.moveTo(vertices[0].x, vertices[0].y);
    ctx.lineTo(vertices[1].x, vertices[1].y);
    ctx.lineTo(vertices[2].x, vertices[2].y);
    ctx.closePath();
    ctx.stroke();
}</code></pre>
                    K·∫øt qu·∫£ ra nh∆∞ sau:
                    <div id="htmlPreview3" class="htmlPreview"></div>
                    Khoan ƒë√£, sao l·∫°i kh√¥ng c√≥ g√¨ h·∫øt nh·ªâ? Th·∫≠t ra l√† c√≥, n·∫øu b·∫°n ƒë·ªÉ √Ω b·∫°n s·∫Ω th·∫•y m·ªôt d·∫•u ch·∫•m nh·ªè ·ªü
                    g√≥c tr√°i tr√™n c·ªßa canvas, ƒë√≥ ch√≠nh l√† cube1 c·ªßa m√¨nh, n√≥ nh·ªè nh∆∞ v·∫≠y v√¨ m√¨nh ƒëang c·ªë v·∫Ω m·ªôt h√¨nh l·∫≠p ph∆∞∆°ng
                    k√≠ch th∆∞·ªõc 0.7 trong 1 canvas 400x300. N·∫øu b·∫°n nh·ªõ l·∫°i v·ªÅ 
                    <a href="graphics3D2-definitions.html#manhinh">ph·∫ßn m√†n h√¨nh c·ªßa blog tr∆∞·ªõc</a>, th√¨ m√†n h√¨nh chu·∫©n m√† ta mu·ªën
                    hi·ªÉn th·ªã l√† c√≥ t·ªça ƒë·ªô trong kho·∫£ng [-1; 1] theo c·∫£ 2 chi·ªÅu x v√† y. N√™n tr∆∞·ªõc khi v·∫Ω c√°c tam gi√°c,
                    ta n√™n chu·∫©n h√≥a t·ª´ng ƒë·ªânh c·ªßa n√≥ v·ªÅ l·∫°i kho·∫£ng h·ª£p l√Ω c·ªßa canvas, b·∫±ng c√°ch nh√¢n k√≠ch th∆∞·ªõc canvas v√† 
                    c·ªông m·ªôt n·ª≠a k√≠ch th∆∞·ªõc canvas ƒë·ªÉ ƒë∆∞a n√≥ v√†o gi·ªØa. Tuy nhi√™n, ta n√™n bi·∫øt r·∫±ng HTML Canvas c√≥ y h∆∞·ªõng xu·ªëng
                    (c√†ng xu·ªëng c√†ng tƒÉng), nh∆∞ng kh√¥ng gian 3D c·ªßa ch√∫ng ta l·∫°i c√≥ y h∆∞·ªõng l√™n, cho n√™n ta ph·∫£i ƒë·ªïi d·∫•u c·ªßa y tr∆∞·ªõc
                    khi nh√¢n, nh∆∞ sau:
                    <pre><code class="language-javascript">for (let tri of cube1) {
    vertices = tri.vertices;
    for (let i = 0; i < vertices.length; i++) {
        vertices[i] = new Vector3(
            vertices[i].x * canvas.width + canvas.width / 2,
            -vertices[i].y * canvas.height + canvas.height / 2,
            vertices[i].z);
    }
    ctx.beginPath();
    ctx.moveTo(vertices[0].x, vertices[0].y);
    ctx.lineTo(vertices[1].x, vertices[1].y);
    ctx.lineTo(vertices[2].x, vertices[2].y);
    ctx.closePath();
    ctx.stroke();
}</code></pre>
                    N√≥ s·∫Ω v·∫Ω ra nh∆∞ sau:
                    <div id="htmlPreview4" class="htmlPreview"></div>
                    Khoan ƒë√£, t·∫°i sao:
                    <ol>
                        <li>N√≥ l·∫°i l√† h√¨nh ch·ªØ nh·∫≠t ch·ª© kh√¥ng ph·∫£i h√¨nh vu√¥ng?</li>
                        <li>N√≥ l·∫°i ph·∫≥ng l√¨ 2D nh∆∞ th·∫ø m√† kh√¥ng ph·∫£i 3D?</li>
                        <li>L·∫°i c√≥ hai ƒë∆∞·ªùng ch√©o ƒë√≥?</li>
                    </ol>
                    V·ªÅ √Ω th·ª© nh·∫•t, ƒë√≥ l√† v√¨ canvas c≈©ng l√† h√¨nh ch·ªØ nh·∫≠t, m√¨nh ch·ªâ ƒëang nh√¢n ƒë√∫ng k√≠ch th∆∞·ªõc c·ªßa n√≥,
                    do ƒë√≥ m√¨nh ph·∫£i t·ª± s·ª≠a l·∫°i v·ªõi t·ªâ l·ªá (aspect ratio) c·ªßa canvas. Ch·ªâ ƒë∆°n gi·∫£n l√† l·∫•y x chia cho chi·ªÅu r·ªông
                    v√† nh√¢n chi·ªÅu cao canvas tr∆∞·ªõc khi l√†m c√°c ph√©p t√≠nh kh√°c:
                    $$
                        (x * \frac{h}{w}) * w + \frac{w}{2} = x * h + \frac{w}{2}
                    $$
                    Code s·∫Ω th√†nh:
                    <pre><code class="language-javascript">vertices[i] = new Vector3(
    vertices[i].x * canvas.height + canvas.width / 2,
    -vertices[i].y * canvas.height + canvas.height / 2,
    vertices[i].z);</code></pre>
                    Th·∫≠t ra n·∫øu b·∫°n gi·ªØ nguy√™n x v√† l·∫•y y chia chi·ªÅu cao nh√¢n chi·ªÅu r·ªông n√≥ c≈©ng s·∫Ω ra ƒë∆∞·ª£c h√¨nh vu√¥ng, nh∆∞ng m√† k√≠ch th∆∞·ªõc n√≥ s·∫Ω
                    l·ªõn h∆°n, v√† th√™m h·∫≠u qu·∫£ l√† khi v·∫Ω tr√™n canvas d√†i n√≥ s·∫Ω b·ª± h∆°n r·∫•t nhi·ªÅu n·ªØa, t√≠nh theo x n√≥ s·∫Ω ·ªïn ƒë·ªãnh tr√™n
                    m·ªçi lo·∫°i resolution m√†n h√¨nh th√¥ng d·ª•ng.<br/><br/>

                    V·ªÅ √Ω th·ª© hai, l√Ω do m√¨nh ch·ªâ th·∫•y h√¨nh ch·ªØ nh·∫≠t 2D m√† kh√¥ng ph·∫£i h√¨nh cube 3D l√† v√¨ m√¨nh ƒëang chi·∫øu t·∫•t c·∫£ 
                    ƒëi·ªÉm th·∫≥ng bƒÉng t·ªõi m√†n h√¨nh, n√≥i c√°ch kh√°c l√† ƒëang s·ª≠ d·ª•ng v·ªã tr√≠ trong kh√¥ng gian ƒë·ªÉ v·∫Ω
                    lu√¥n t·ªça ƒë·ªô tr√™n m√†n h√¨nh, c√°i n√†y ƒë∆∞·ª£c g·ªçi l√† ph√©p chi·∫øu
                    <a href="https://en.wikipedia.org/wiki/Orthographic_projection">Orthographic</a>, 
                    c√°i n√†y nh∆∞ c√°ch b·∫°n hay v·∫Ω c√°c lo·∫°i h√¨nh chi·∫øu ·ªü m√¥n C√¥ng ngh·ªá l·ªõp 10.
                    C√≤n ƒë·ªëi v·ªõi ngo√†i ƒë·ªùi, b·∫°n s·∫Ω nh√¨n m·ªçi th·ª© theo ki·ªÉu "c√†ng g·∫ßn c√†ng to", ƒë√≥ l√† ph√©p chi·∫øu
                    <a href="https://en.wikipedia.org/wiki/Perspective_(graphical)">Perspective</a>.
                    <div align="center">
                        <img style="display:block" src="https://www.tutorialspoint.com/computer_graphics/images/what_is_perspective_projection.jpg"/>
                        <i style="font-size: 14px;">Ngu·ªìn ·∫£nh: tutorialspoint</i>
                    </div>

                    V·ªÅ √Ω th·ª© ba, hai ƒë∆∞·ªùng ch√©o ƒë√≥ ch·ªâ l√† m·ªôt trong nh·ªØng ƒë∆∞·ªùng t·∫°o n√™n nh·ªØng tam gi√°c m√† t·∫°o n√™n cube ƒë√≥,
                    m√¨nh ƒëang v·∫Ω h·∫øt t·∫•t c·∫£ c√°c ƒë∆∞·ªùng, n√™n m√¨nh th·∫•y c·∫£ m·∫∑t FRONT l·∫´n m·∫∑t BACK.<br/><br/>

                    Quay v·ªÅ Perspective Projection, c√†i ƒë·∫∑t n√≥ r·∫•t ƒë∆°n gi·∫£n, b·∫°n ch·ªâ c·∫ßn d√πng t·ªõi 1 gi√° tr·ªã m√† c√≥ th·ªÉ b·∫°n ƒë√£ qu√™n khi ƒëang
                    theo d√µi m√¨nh l√†m, ƒë√≥ ch√≠nh l√† t·ªça ƒë·ªô z (ch√≠nh l√† kho·∫£ng c√°ch t·ª´ m√†n h√¨nh t·ªõi cube, ƒë·ªëi v·ªõi tr∆∞·ªùng h·ª£p hi·ªán t·∫°i).
                    M√¨nh ch·ªâ c·∫ßn chia c·∫£ x v√† y cho z l√† s·∫Ω t·∫°o ra c·∫£m gi√°c "c√†ng g·∫ßn c√†ng to":
                    <pre><code class="language-javascript">for (let tri of cube1) {
    vertices = tri.vertices;
    for (let i = 0; i < vertices.length; i++) {
        let v = Vector3.div(vertices[i], vertices[i].z);    // <--------------
        vertices[i] = new Vector3(
            v.x * canvas.height + canvas.width / 2,
            -v.y * canvas.height + canvas.height / 2,
            1);
    }
    ctx.beginPath();
    ctx.moveTo(vertices[0].x, vertices[0].y);
    ctx.lineTo(vertices[1].x, vertices[1].y);
    ctx.lineTo(vertices[2].x, vertices[2].y);
    ctx.closePath();
    ctx.stroke();
}</code></pre>
                    K·∫øt qu·∫£:
                    <div id="htmlPreview5" class="htmlPreview"></div>
                    Nh∆∞ v·∫≠y, ch√∫ng ta ƒë√£ v·∫Ω th√†nh c√¥ng m·ªôt cube l√™n canvas, l√∫c n√†y m√¨nh m·ªõi th·∫•y h·∫øt c·∫£ ƒë∆∞·ªùng t·∫°o n√™n c√°c tam gi√°c m√†
                    t·∫°o n√™n cube, vi·ªác m√¨nh th·∫•y h·∫øt tam gi√°c nh∆∞ v·∫≠y ƒë∆∞·ª£c g·ªçi l√† c√°ch hi·ªÉn th·ªã 
                    <a href="https://en.wikipedia.org/wiki/Wire-frame_model">Wireframe</a>, m√¨nh s·∫Ω ch·ªâ c√°ch l√†m m·∫•t ch√∫ng sau.<br/>
                    Vi·ªác m√¨nh ƒë·ªÉ cube ·ªü gi·ªØa nh∆∞ v·∫≠y kh√° kh√≥ nh√¨n ra "c·∫£m nh·∫≠n 3D", n√™n m√¨nh d·ªãch chuy·ªÉn v·ªã tr√≠ c·ªßa cube m·ªôt ch√∫t:
                    <pre><code class="language-javascript">let cube1 = makeCube(new Vector3(0.6, -0.7, 2.5), new Vector3(0.7, 0.7, 0.7));</code></pre>
                    <div id="htmlPreview6" class="htmlPreview"></div>
                    <br/>
                    V·∫≠y l√† ta ƒë√£ v·∫Ω ƒë∆∞·ª£c m·ªôt cube l√™n canvas, tuy nhi√™n ta c√≤n nh·ªØng v·∫•n ƒë·ªÅ sau c·∫ßn gi·∫£i quy·∫øt:
                    <ol>
                        <li>L√†m g√¨ n·∫øu m√¨nh mu·ªën ch·ªânh t·∫ßm nh√¨n (FOV) c·ªßa m√¨nh?</li>
                        <li>Chuy·ªán g√¨ x·∫£y ra khi cube qu√° g·∫ßn m√†n h√¨nh?</li>
                    </ol>
                    Ta s·∫Ω c√πng nhau gi·∫£i quy·∫øt 2 v·∫•n ƒë·ªÅ n√†y ·ªü blog sau, v√† h·ªá th·ªëng h·∫øt m·ªçi th·ª© th√†nh m·ªôt c√°i g·ªçi l√† Projection Matrix üò≥.
                    <div id="graphics3D-nav-bottom"></div>
                </div>

            </div>
        </div>
    </main>

    <footer></footer>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>

    <script src="graphics3D.js"></script>
    <script src="/js/loadsidebar.js"></script>
</body>

</html>